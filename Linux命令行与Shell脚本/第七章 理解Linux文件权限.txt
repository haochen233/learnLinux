7.1 Linux的安全性
	用户权限是通过创建用户时分配的用户ID(UID)来跟踪的。
每个用户的UID是唯一的，但是在登录系统时用的不是UID而是
登录名。
	登录名同时会关联一个用户密码。
	Linux系统使用特定的文件个工具来跟踪和管理系统上的用
户账户。

	7.1.1 /etc/passwd文件
		Linux使用一个专门的文件来讲用户的登录名匹配到对
	应的UID值，就是 /etc/passwd文件，它包含了一些与用户
	有关的信息。
	
	root用户的UID是0，是Linux系统的管理员。
	Linux会为各种各样的功能创建不同的用户账户，这些并不
是账户，而是系统账户。是系统上运行的各种服务进程访问资
源用的账户。
	所有在后台运行的账户都需要一个系统账户登录到Linux。
	比如mysql的系统账户。
	
	/etc/passwd文件中的字段还包含了其他信息：
	1）登录用户名
	2）用户密码
	3）用户账户的UID
	4）用户账户的组ID（GID）
	5）用户账户的文本描述
	6）用户家目录的位置
	7）用户默认的shell
	
	现在绝大多数的Linux系统都将用户密码保存在另一个单独
的文件中（叫作/etc/shadow），只有特定的程序才能访问。
	手动修改/etc/passwd文件是非常危险的。
	
	7.1.2 /etc/shadow文件
		只有root用户才能访问/etc/shadow文件，这让它比起
	/etc/passwd文件安全许多。
	该文件为每个用户账户都保存了一条记录。
	每个记录有九个字段：
	1）登录名
	2）加密后的密码
	3）距上次修改密码过去的天数密码（Unix——time）
	4）多少天后才能修改密码
	5）多少天后必须更改密码
	6）。。
	7）。。。
	8）。。
	9）预留字段为将来准备
	
	7.1.3 添加新用户
		工具为useradd，可以一次性创建新用户账户以及设
	置用户家目录结构。
		useradd使用系统的默认值和命令行参数来设置用户
	账户。
		系统默认值在/etc/default/useradd文件中。
		可以使用useradd -D选项来查看这些默认值。
		
		如果创建时不在命令行指定具体的值，useradd命令
	就会使用那些默认值。
		
		在Ubuntu系统上，/etc/skel目录有下列文件：
		.bashrc
		.profile
		.
		.
		.
		
		这些是bash shell环境的标准启动文件。系统会自
	动将这些文件赋值到创建的每个用户的家目录。
		默认情况下，useradd命令不会创建家目录，但-m
	选项会使其创建家目录并把那几个文件复制过来了。
	
		该命令还有许多参数选项，就不赘述了。
		
	7.1.4 删除用户
		userdel命令
		默认情况下，userdel命令只会删除/etc/passwd中
	的用户信息，而不会删除系统中属于该账户的任何文件。
		可以加上-r选项，userdel会删除用户的家目录和邮
	件目录。然而系统上还会有已删除用户的其他文件。
		
		注意：使用-r命令前一定要特别小心。一定要检查
	好了在进行。
	
	7.1.5 修改用户
		1. usermod
			是修改工具中最强大的一个，能够修改/etc/pass
		wd文件中大部分字段。
			-L选项可以将账户锁定，使用户无法登录，同时，
		无需删除账户和用户的数据。
			-U选项可以解锁恢复。
			
		2.passwd和chpasswd
		改变用户密码的一个简便办法用passwd命令
		#passwd test
		注意只有root用户可以权限改变别人的密码。
		略。
		
		3.chsh、chfn、chage
		chsh命令用来快速修改默认的用户登录shell。使用
	时，必须使用shell的绝对路径名作为参数
		例如：
		$chsh -s /bin/csh test
		略
		
7.2 使用Linux组（group）
	每个组都有唯一的GID——跟UID类似。除了GID，每个组还有
唯一的组名。
	
	7.2.1 /etc/group 文件
		和UID一样，GID在分配时也采用了特定的格式。
		etc/group文件有4个字段：
		1）组名
		2）组密码
		3）GID 
		4）属于改组的用户列表
		
		在该文件中有的组没有用户列表，不是没有用户。
	而是，当用户在该文件中指定某个组为默认组时，用户
	账户不会作为改组成员出现在该文件中。
		不能直接通过修改该文件来添加用户到一个组。
		必须使用usermod命令。
	
	7.2.2 创建新组
		groupadd命令可以在系统上创建新组。
		#groupadd test1
		创建一个组名为test1的组
		
		可以使用usermod命令的—G选项添加一个用户到组中。
		
		#gruopdel test1 删除组
	7.2.3 修改组
		groupmod命令可以修改已有组的GID（-g选项）或组
	名（-n选项）
		修改组名时，GID和组成员不会改变，只有组名改变
	。
	
7.3 理解文件权限
	现在是时候解读ls命令列出的谜一般的文件权限了。
	
	7.3.1 使用文件权限符
		$ls -l
		列出的第一个字段（权限那一堆）
		1）- 代表文件
		2）d 代表目录
		3）l 代表链接
		4）c 代表字符型
		5）b 块设备
		6）n 代表网络设备
		
		之后有三组字符的编码，每一组定义了3种访问权限
		1）r 代表对象可读的
		2）w 代表对象可写的
		3）x 代表对象可执行的
		若没有那种权限，则对应的位置是单破折线-
		三组权限分别对应对象的三个安全级别
		1）对象的属主（当前用户）
		2）对象的属组（同组用户）
		3）系统其它用户
		例如：
		-rwxrwxr-x 这个字段解读为
		第一个 - 代表这是一个文件
		rwx 代表当前用户可读、写、执行。
		rwx 代表同组用户可读、写、执行。
		r-x 代表其它用户可读、执行。
		
	7.3.2 默认文件权限
		umask命令用来设置所创建文件和目录的默认权限
		
		例如$umask  0022
		第一位代表了一项特别的安全特性，叫粘着位
		后面三位表示文件或目录对应的umask八进制值
		Linux文件权限码：
		
		权限 	二进制		八进制		描述
		---     000			0  			没有任何权限
		--x		001			1			只可执行
		-w-		010			2			只写
		-wx		011			3 			只写、执行
		r--		100			4			只读
		r-x		101			5			只读、执行
		rw-		110			6			只读、写
		rwx		111			7			只读、写、执行
		
		问题来了为什么Linux默认的八进制的umask值是0022
	，我所创建的文件的八进制权限却是664。
		umask只是个掩码。它会屏蔽掉不想授予该安全级别的
	权限。
		对文件来说全权限是666（所有用户读写），对目录来
	说，则是777（所有用户读、写、执行）。
		可以用umask命令为默认umask设定指定一个新值。
		例如$umask 026
		新创建一个文件的权限就为640，新创建一个目录的
	权限就是751。
		即umask设置的权限是反的。
		
7.4 改变安全性设置
	如果你已经创建了一个文件或目录，需要改变它的安全性
设置。
	7.4.1 改变权限
		chmod 命令用来改变文件和目录的安全性设置
		格式如下：
		$chmod options mode file
		mode参数可以直接使用八进制模式进行安全性设置。
		例如：
		$chmod 760 file 
		
		与通常用到的三组字符权限不同1，chmod命令采用了另一种
	方法，在符号模式指定权限的格式；
	格式如下：
		[ugoa..] [+-=] [rwxXstugo]
		1）u代表用户
		2）g代表组
		3）o代表其它
		4）a代表所有
		下一步后面跟着的符号表示想对现有权限的修改。如
	+增加权限，-移除权限，=为权限赋值。
		第三个符号代表权限，比通常的rwx多。
		1）X 如果对象是目录或者已有执行权限赋予执行权限
		2）s 运行时重新设置UID或GID
		3）u 将权限设置为跟属主一样
		4）g 将权限设置为跟属组一样
		5）o 将权限设置为跟其他用户一样
		
		例如：
		$chomd o+r newfile
		给其他用户添加读取权限。
		$chmod u-x newfile
		移除属主的执行权限
		
		options为chmod命令提供了另外一些功能，-R选项可以让
	权限的改变递归地作用到文件和子目录。
		还可以使用通配符指定多个文件。
		
	7.4.2 改变所属关系
		chown命令用来改变文件的属主。
		chown命令的格式如下：
		chown options owner[.group] file
		
		例如：
		$chown test newfile
		文件属主改变为test
		
		改变属组
		chgrp 命令
		例如
		$chgrp test newfile
		文件属组改变为test组
		
7.5 共享文件
	设置zuID（SGID）对文件来说会议文件属组的权限运行，
对目录来说，目录中新创建的文件会以目录的默认属组作为
默认属组。
	SGID对文件共享很重要。启用SGID位后，你可以强制在
一个共享目录下创建的新文件都属于该共享目录的数组。
	即创建的新文件都属于该共享目录的属组。不属于创建
的用户所属的组。

	例如：流程如下：
		建立一个目录，然后改变目录默认属组，然后将目录的
	SGID位置位（chmod g+s dir）。以保证新建的文件都以目
	录的默认属组为默认属组。完了之后。
	就可以创建新文件了。即所有该组用户都能访问该目录下
	的文件了。
	


		
		